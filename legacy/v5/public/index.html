
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>BlockCraft</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			html, body {
				width: 100%;
				height: 100%;
				margin: 0;
				padding: 0;

				user-select: none;
			}

			body {
				background-color: #ffffff;
				margin: 0;
				overflow: hidden;
				font-family: arial;


			}

			#blocker {

				position: absolute;

				width: 100%;
				height: 100%;

				background-color: rgba(0,0,0,0.5);
			}

			#instructions {

				width: 100%;
				height: 100%;

				color: #ffffff;

			}

			#crosshair {
				position: absolute;
				z-index: 1;
				padding: 0;
			}

			#canvasCross {
				margin: 0;
			}

			#text {
				position: absolute;
				z-index: 2;
				color: limegreen;
			}

			#title {
				position: absolute;
				top: 10%;
				left: 50%;
				width: 50vw;
				margin-left: -25vw;
			}

			#instructions-text {
				position: absolute;
				bottom: 10%;
				color: white;
				text-align: center;
   				width: 100%;
			}

			#start-button {
				position: absolute;
				left: 50%;
				width: 20vw;
				height: 5vw;
				margin-left: -10vw;
				bottom: 20%;
				text-decoration: none;
				border: none;
				outline: none;
				background-color: #d3d3d3;
				cursor: pointer;
				font-size: 40px;
			}

			.slider-text {
				color: white;
			}

			.slider {
			    -webkit-appearance: none;
			    appearance: none;
			    width: 100%; 
			    height: 15px;
			    background: #d3d3d3; 
			    outline: none;
			    opacity: 0.7;
			    -webkit-transition: .2s;
			    transition: opacity .2s;
			}

			.slider::-webkit-slider-thumb {
			    -webkit-appearance: none; 
			    appearance: none;
			    width: 20px; 
			    height: 20px; 
			    background: green; 
			    cursor: pointer; 
			}

			#settings {
				position: absolute;
				width: 50%;
				left: 50vw;
				top: 30%;
				margin-left: -25vw;
			}

			#name-input {
				position:absolute;
				width: 20vw;
				height: 4vw;
				left: 50%;
				top: 50%;
				margin-left: -10vw;
				font-size: 2vw;
			}

		</style>
	</head>
	<body>
		<script src="https://cdn.jsdelivr.net/npm/ola"></script>

		<script src="javascripts/three.js"></script>
		<script src="javascripts/socket.io.js"></script>
		<script src="javascripts/stats.min.js"></script>
		<script src="javascripts/matrix.js"></script>
		<script src="javascripts/jquery.js"></script>
		<script src="javascripts/pointerlock.js"></script>
		<script src="javascripts/textures.js"></script>
		<script src="javascripts/perlin.js"></script>
		<script src="javascripts/chunkLoader.js"></script>
		<script src="javascripts/player.js"></script>
		<script src="javascripts/lights.js"></script>
		<script src="javascripts/core.js"></script>
		<script src="javascripts/input.js"></script>
		
		<div id="crosshair">
			<canvas id="canvasCross"></canvas>
		</div>
		<div id="blocker">

			<img id="title" src="textures/title.png">

			<div id="settings">
				<span id="sensitivityValue" class="slider-text">Sensitivity: 0.5</span>
				<input type="range" min="1" max="100" value="50" class="slider" id="sensitivitySlider" style="position: relative; float: right; width: 50%; height: 20px">
				<br />
				<br />
				<span id="statsValue" class="slider-text">Statistics: ON</span>
				<input type="range" min="0" max="1" value="1" class="slider" id="statsSlider" style="position: relative; float: right; width: 40px; height: 20px">
				<br />
				<br />
				<span id="shadowValue" class="slider-text">Shadow Effect: ON</span>
				<input type="range" min="0" max="1" value="1" class="slider" id="shadowSlider" style="position: relative; float: right; width: 40px; height: 20px">
				<br />
				<br />
				<span id="cloudValue" class="slider-text">Clouds: ON</span>
				<input type="range" min="0" max="1" value="1" class="slider" id="cloudSlider" style="position: relative; float: right; width: 40px; height: 20px">
			</div>

			<input id="name-input" type="text" placeholder="Enter Username">

			<button id="start-button">Start</button>
			<span id="instructions-text">WASD to move. Shift to run. L-Alt to Sneak. R to respawn. Not affliated with Mojang.</span>

		</div>

		<script>

			// Remove warning
			var originalWarning = console.warn; // back up the original method
			console.warn = function(){}; // now warnings do nothing!

			// Crosshair
			var crosshairSize = 25
			var crosshairWidth = 2

			var width = $("html").innerWidth()
			$("#crosshair").css("left", width/2 - crosshairSize/2)
			var height = $("html").innerHeight()
			$("#crosshair").css("top", height/2 - crosshairSize/2)

			var canvas = document.getElementById("canvasCross");
			var ctx = canvasCross.getContext("2d");
			ctx.fillRect(crosshairSize/2-crosshairWidth/2, 0, crosshairWidth, crosshairSize)
			ctx.fillRect(0, crosshairSize/2-crosshairWidth/2, crosshairSize, crosshairWidth)

			// Sensitivity

			$("#sensitivitySlider").on("change mousemove", function (e) {
				sens = $("#sensitivitySlider")[0].value/100;
				$("#sensitivityValue").text("Sensitivity: " + sens);
			})


			// Statistics

			$("#statsSlider").on("change", function (e) {
				let stats = $("#statsSlider")[0].value;
				if (stats == 1) {
					$("#statsValue").text("Statistics: ON");
				} else {
					$("#statsValue").text("Statistics: OFF");
				}
			})

			// Shadow Effect

			$("#shadowSlider").on("change", function (e) {
				let shadowEffect = $("#shadowSlider")[0].value;
				if (shadowEffect == 1) {
					$("#shadowValue").text("Shadow Effect: ON");
					light.dir.castShadow = true;
				} else {
					$("#shadowValue").text("Shadow Effect: OFF");
					light.dir.castShadow = false;
				}
			})

			// Cloud Effect

			$("#cloudSlider").on("change", function (e) {
				let cloudEffect = $("#cloudSlider")[0].value;
				if (cloudEffect == 1) {
					$("#cloudValue").text("Cloud Effect: ON");
					light.generateClouds("add");
				} else {
					$("#cloudValue").text("Cloud Effect: OFF");
					light.generateClouds("remove");
				}
			})
		</script>
	</body>
</html>
